{"ast":null,"code":"import { useState, useLayoutEffect } from \"react\";\nimport throttle from \"lodash/fp/throttle\";\n\nfunction getBoundingRect(ref) {\n  return ref && ref.current && ref.current.getBoundingClientRect();\n}\n\nexport default (ref => {\n  const {\n    0: boundingRect,\n    1: setBoundingRect\n  } = useState(getBoundingRect(ref));\n  const handleResize = throttle(250, () => {\n    setBoundingRect(getBoundingRect(ref));\n  });\n  useLayoutEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    setBoundingRect(getBoundingRect());\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [ref.current]);\n  return boundingRect;\n});","map":{"version":3,"sources":["/Users/j.ruffle/GithubProjects/animations-with-hooks/utils/getBoundingClient.js"],"names":["useState","useLayoutEffect","throttle","getBoundingRect","ref","current","getBoundingClientRect","boundingRect","setBoundingRect","handleResize","window","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,eAAnB,QAA0C,OAA1C;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA8B;AAC5B,SAAOA,GAAG,IAAIA,GAAG,CAACC,OAAX,IAAsBD,GAAG,CAACC,OAAJ,CAAYC,qBAAZ,EAA7B;AACD;;AAED,gBAAeF,GAAG,IAAI;AACpB,QAAM;AAAA,OAACG,YAAD;AAAA,OAAeC;AAAf,MAAkCR,QAAQ,CAACG,eAAe,CAACC,GAAD,CAAhB,CAAhD;AAEA,QAAMK,YAAY,GAAGP,QAAQ,CAAC,GAAD,EAAM,MAAM;AACvCM,IAAAA,eAAe,CAACL,eAAe,CAACC,GAAD,CAAhB,CAAf;AACD,GAF4B,CAA7B;AAIAH,EAAAA,eAAe,CAAC,MAAM;AACpBS,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCF,YAAlC;AACAD,IAAAA,eAAe,CAACL,eAAe,EAAhB,CAAf;AACA,WAAO,MAAM;AACXO,MAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqCH,YAArC;AACD,KAFD;AAGD,GANc,EAMZ,CAACL,GAAG,CAACC,OAAL,CANY,CAAf;AAQA,SAAOE,YAAP;AACD,CAhBD","sourcesContent":["import { useState, useLayoutEffect } from \"react\";\nimport throttle from \"lodash/fp/throttle\";\n\nfunction getBoundingRect(ref) {\n  return ref && ref.current && ref.current.getBoundingClientRect();\n}\n\nexport default ref => {\n  const [boundingRect, setBoundingRect] = useState(getBoundingRect(ref));\n\n  const handleResize = throttle(250, () => {\n    setBoundingRect(getBoundingRect(ref));\n  });\n\n  useLayoutEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    setBoundingRect(getBoundingRect());\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [ref.current]);\n\n  return boundingRect;\n};\n"]},"metadata":{},"sourceType":"module"}