{"ast":null,"code":"import { useState, useLayoutEffect } from \"react\";\nimport throttle from \"lodash/fp/throttle\";\n\nfunction getBoundingRect(ref) {\n  return ref.current.getBoundingClientRect();\n}\n\nexport default (function (ref) {\n  var _useState = useState(getBoundingRect(ref)),\n      boundingRect = _useState[0],\n      setBoundingRect = _useState[1];\n\n  var handleResize = throttle(250, function () {\n    setBoundingRect(getBoundingRect(ref));\n  });\n  useLayoutEffect(function () {\n    window.addEventListener(\"resize\", handleResize);\n    setBoundingRect(getBoundingRect());\n    return function () {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [ref.current]);\n  return boundingRect;\n});","map":{"version":3,"sources":["/Users/j.ruffle/GithubProjects/animations-with-hooks/utils/getBoundingClient.js"],"names":["useState","useLayoutEffect","throttle","getBoundingRect","ref","current","getBoundingClientRect","boundingRect","setBoundingRect","handleResize","window","addEventListener","removeEventListener"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,eAAnB,QAA0C,OAA1C;AACA,OAAOC,QAAP,MAAqB,oBAArB;;AAEA,SAASC,eAAT,CAAyBC,GAAzB,EAA8B;AAC5B,SAAOA,GAAG,CAACC,OAAJ,CAAYC,qBAAZ,EAAP;AACD;;AAED,gBAAe,UAAAF,GAAG,EAAI;AAAA,kBACoBJ,QAAQ,CAACG,eAAe,CAACC,GAAD,CAAhB,CAD5B;AAAA,MACbG,YADa;AAAA,MACCC,eADD;;AAGpB,MAAMC,YAAY,GAAGP,QAAQ,CAAC,GAAD,EAAM,YAAM;AACvCM,IAAAA,eAAe,CAACL,eAAe,CAACC,GAAD,CAAhB,CAAf;AACD,GAF4B,CAA7B;AAIAH,EAAAA,eAAe,CAAC,YAAM;AACpBS,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCF,YAAlC;AACAD,IAAAA,eAAe,CAACL,eAAe,EAAhB,CAAf;AACA,WAAO,YAAM;AACXO,MAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,EAAqCH,YAArC;AACD,KAFD;AAGD,GANc,EAMZ,CAACL,GAAG,CAACC,OAAL,CANY,CAAf;AAQA,SAAOE,YAAP;AACD,CAhBD","sourcesContent":["import { useState, useLayoutEffect } from \"react\";\nimport throttle from \"lodash/fp/throttle\";\n\nfunction getBoundingRect(ref) {\n  return ref.current.getBoundingClientRect();\n}\n\nexport default ref => {\n  const [boundingRect, setBoundingRect] = useState(getBoundingRect(ref));\n\n  const handleResize = throttle(250, () => {\n    setBoundingRect(getBoundingRect(ref));\n  });\n\n  useLayoutEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    setBoundingRect(getBoundingRect());\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [ref.current]);\n\n  return boundingRect;\n};\n"]},"metadata":{},"sourceType":"module"}